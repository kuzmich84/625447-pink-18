"use strict";var form=document.querySelector(".form"),inputsForm=form.querySelectorAll("input"),popupSuccess=document.querySelector(".popup--success"),popupError=document.querySelector(".popup--failure"),button=document.querySelector(".popup__button"),formButton=document.querySelector(".form__button"),buttonFailure=document.querySelector(".popup__button--failure"),buttonSuccess=document.querySelector(".popup__button--success"),ESC_KEYCODE=27,isEscEvent=function(e,o){e.keyCode===ESC_KEYCODE&&o()},pressEscPopupErrorHandler=function(e){isEscEvent(e,closePopupError)},pressEscPopupSuccesHandler=function(e){isEscEvent(e,closePopupSuccess)},closePopupError=function(){popupError.style.display="none"},closePopupSuccess=function(){popupSuccess.style.display="none"},showPopupOfValidity=function(e){!1===e.checkValidity()?(popupError.style.display="block",e.style.borderColor="red",buttonFailure.addEventListener("click",function(){popupError.style.display="none"}),document.addEventListener("keydown",pressEscPopupErrorHandler)):e.removeAttribute("style")},checkElementForm=function(e){e.forEach(function(e){!0===e.required&&showPopupOfValidity(e)})};form.addEventListener("submit",function(e){popupSuccess.style.display="block",buttonSuccess.addEventListener("click",function(){form.reset(),popupSuccess.style.display="none"}),document.addEventListener("keydown",pressEscPopupSuccesHandler),e.preventDefault()}),formButton.addEventListener("click",function(){checkElementForm(inputsForm)});